{% extends 'base.html' %}
{% load static from staticfiles %}

{% block extra-js %}
    <script src="{% static 'js/Chart.min.js' %}"></script>
    <script>
		var lineChartData = {
            scaleGridLineWidth: 1,
			labels : [{% for record in today_data %}"{{ record.datetime|date:"H:i" }}", {% endfor %}],
			datasets : [
				{
					label: "Temperature",
					fillColor : "rgba(220,220,220,0.2)",
					strokeColor : "rgba(220,220,220,1)",
					pointColor : "rgba(220,220,220,1)",
					pointStrokeColor : "#fff",
					pointHighlightFill : "#fff",
					pointHighlightStroke : "rgba(220,220,220,1)",
					data : [{% for record in today_data %}{{ record.temperature }}, {% endfor %}]
				}
			]

		};

	    window.onload = function(){
	    	var ctx = document.getElementById("canvas").getContext("2d");
	    	window.myLine = new Chart(ctx).Line(lineChartData, {
	    		responsive: true
	    	});
	    }

    </script>
{% endblock %}

{% block content %}
    <canvas id="canvas">
{% endblock %}